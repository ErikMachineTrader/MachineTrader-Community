[
    {
        "id": "522980d06a285aae",
        "type": "tab",
        "label": "Customize Markets and Watchlist",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "cb0011d73b08c977",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "Add Markets Symbols",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "SPY,QQQ,TSLA,VXX,X:BTCUSD,X:ETHUSD",
        "payloadType": "str",
        "x": 320,
        "y": 300,
        "wires": [
            [
                "bc0a13f31d1ddb5a",
                "901caa5b375d6e21"
            ]
        ]
    },
    {
        "id": "bc0a13f31d1ddb5a",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 530,
        "y": 300,
        "wires": [
            [
                "8e264664af6e9efd"
            ]
        ]
    },
    {
        "id": "8e264664af6e9efd",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "insert query",
        "func": "let symbol = msg.payload\nlet sql = \"insert into markets (symbol) values ('\" +symbol+ \"')\"\nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 300,
        "wires": [
            [
                "88ecf866bf63904d"
            ]
        ]
    },
    {
        "id": "82928cfdb56440fc",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "let symbol = msg.payload\nlet sql = \"select symbol from markets\"\n//node.warn(sql)\n\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 360,
        "wires": [
            [
                "19617f168688ce81"
            ]
        ]
    },
    {
        "id": "040c8ecc7a233ee9",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "9ff3d37970cda338"
            ]
        ]
    },
    {
        "id": "93791582f9fcfb64",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "update query",
        "func": "let ticker = msg.payload.results.ticker\nlet name = msg.payload.results.name\nlet marketcap = msg.payload.results.market_cap\n\nlet sql = \"update markets set name = '\" +name+ \"', marketcap = '\" +marketcap+ \"' where symbol = '\" +ticker+ \"'\" \nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1370,
        "y": 360,
        "wires": [
            [
                "a25ead7651a0e4d1"
            ]
        ]
    },
    {
        "id": "7751e88110de234c",
        "type": "debug",
        "z": "522980d06a285aae",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1010,
        "y": 300,
        "wires": []
    },
    {
        "id": "88ecf866bf63904d",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 860,
        "y": 300,
        "wires": [
            [
                "7751e88110de234c"
            ]
        ]
    },
    {
        "id": "a25ead7651a0e4d1",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 1520,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "19617f168688ce81",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 620,
        "y": 360,
        "wires": [
            [
                "040c8ecc7a233ee9"
            ]
        ]
    },
    {
        "id": "901caa5b375d6e21",
        "type": "delay",
        "z": "522980d06a285aae",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 270,
        "y": 360,
        "wires": [
            [
                "82928cfdb56440fc"
            ]
        ]
    },
    {
        "id": "58997454e3487bc7",
        "type": "comment",
        "z": "522980d06a285aae",
        "name": "Customize Market Symbols",
        "info": "",
        "x": 160,
        "y": 40,
        "wires": []
    },
    {
        "id": "a88462ea44fbcc69",
        "type": "comment",
        "z": "522980d06a285aae",
        "name": "Customize Watchlist Symbols",
        "info": "",
        "x": 160,
        "y": 440,
        "wires": []
    },
    {
        "id": "5f02fb943bc528c5",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "Delete existing markets table",
        "func": "let sql = \"drop table markets\"\nmsg.topic = sql\nnode.warn(msg.topic)\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 120,
        "wires": [
            [
                "d4443016da37fd4d"
            ]
        ]
    },
    {
        "id": "d4443016da37fd4d",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 720,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "942865c2b82c1119",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "Create new markets table",
        "func": "let sql = \"create table IF NOT EXISTS markets (symbol TEXT PRIMARY KEY,name TEXT,closing REAL\"\nsql += \",price24h REAL,price7d REAL, date TEXT,change24h REAL,change7d REAL,\"\nsql += \"marketcap REAL,volume REAL,pct24 REAL,pct7d REAL)\" ;\nmsg.topic = sql\nnode.warn(msg.topic)\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 180,
        "wires": [
            [
                "a4b91852c9d68bb9"
            ]
        ]
    },
    {
        "id": "a4b91852c9d68bb9",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 720,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "05b85961fde26a31",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "Modify market symbols",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 240,
        "y": 120,
        "wires": [
            [
                "5f02fb943bc528c5",
                "415e1534fdedd7d3"
            ]
        ]
    },
    {
        "id": "415e1534fdedd7d3",
        "type": "delay",
        "z": "522980d06a285aae",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 290,
        "y": 180,
        "wires": [
            [
                "942865c2b82c1119"
            ]
        ]
    },
    {
        "id": "85554f90cd230d4f",
        "type": "comment",
        "z": "522980d06a285aae",
        "name": "Add new comma separated list of symbols here",
        "info": "",
        "x": 400,
        "y": 240,
        "wires": []
    },
    {
        "id": "7e74e3d740f8a4d0",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "40c32af6ca02f2f5",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 740,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "38ff365d70a1a9b6",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 590,
        "y": 700,
        "wires": [
            [
                "7fdcf3d4a755d0bb"
            ]
        ]
    },
    {
        "id": "7fdcf3d4a755d0bb",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "insert query",
        "func": "let symbol = msg.payload\nlet sql = \"insert into watchlist (symbol) values ('\" +symbol+ \"')\"\nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 700,
        "wires": [
            [
                "bb0d5c3d836e80cf",
                "ed257d68dcdabd2d"
            ]
        ]
    },
    {
        "id": "9803dfbf5482bf52",
        "type": "polygon-tickler-details-rest",
        "z": "522980d06a285aae",
        "conf": "651f0aab10dc1632",
        "symbol": "",
        "x": 1060,
        "y": 760,
        "wires": [
            [
                "3d9071d281155e45"
            ]
        ]
    },
    {
        "id": "9ffb547d37ee5cb7",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "let symbol = msg.payload\nlet sql = \"select symbol from watchlist\"\n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 760,
        "wires": [
            [
                "5ba86b75795c1e9f"
            ]
        ]
    },
    {
        "id": "6251aefb5772bebe",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 860,
        "y": 760,
        "wires": [
            [
                "9803dfbf5482bf52"
            ]
        ]
    },
    {
        "id": "3d9071d281155e45",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "update query",
        "func": "let ticker = msg.payload.results.ticker\nlet name = msg.payload.results.name\nlet marketcap = msg.payload.results.market_cap\n\nlet sql = \"update watchlist set name = '\" +name+ \"', marketcap = '\" +marketcap+ \"' where symbol = '\" +ticker+ \"'\" \nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1290,
        "y": 760,
        "wires": [
            [
                "22fdcdefa10493a7"
            ]
        ]
    },
    {
        "id": "9e50eb984a914c9b",
        "type": "debug",
        "z": "522980d06a285aae",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1090,
        "y": 700,
        "wires": []
    },
    {
        "id": "ed257d68dcdabd2d",
        "type": "delay",
        "z": "522980d06a285aae",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 400,
        "y": 760,
        "wires": [
            [
                "9ffb547d37ee5cb7"
            ]
        ]
    },
    {
        "id": "883688f5e32a7ec0",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "Delete existing watchlist table",
        "func": "let sql = \"drop table watchlist\"\nmsg.topic = sql\nnode.warn(msg.topic)\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 520,
        "wires": [
            [
                "7e74e3d740f8a4d0"
            ]
        ]
    },
    {
        "id": "dae16148a5d26504",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "Create new watchlist table",
        "func": "let sql = \"create table IF NOT EXISTS watchlist (symbol TEXT PRIMARY KEY,name TEXT,closing REAL\"\nsql += \",price24h REAL,price7d REAL, date TEXT,change24h REAL,change7d REAL,\"\nsql += \"marketcap REAL,volume REAL,pct24 REAL,pct7d REAL)\" ;\nmsg.topic = sql\nnode.warn(msg.topic)\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 580,
        "wires": [
            [
                "50c8f2f0c10a86e2"
            ]
        ]
    },
    {
        "id": "1efa72c34885953b",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "Modify watchlist symbols",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 250,
        "y": 520,
        "wires": [
            [
                "883688f5e32a7ec0",
                "de364152fbc59308"
            ]
        ]
    },
    {
        "id": "de364152fbc59308",
        "type": "delay",
        "z": "522980d06a285aae",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 310,
        "y": 580,
        "wires": [
            [
                "dae16148a5d26504"
            ]
        ]
    },
    {
        "id": "8e8b9f8b6013b6ac",
        "type": "comment",
        "z": "522980d06a285aae",
        "name": "Add new comma separated list of symbols here",
        "info": "",
        "x": 420,
        "y": 640,
        "wires": []
    },
    {
        "id": "9ea48df46dbe3a0f",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "Add Watchlist Symbols",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "SPY,TSLA,TQQQ,BAC,URA,URNM,AAPL",
        "payloadType": "str",
        "x": 400,
        "y": 700,
        "wires": [
            [
                "38ff365d70a1a9b6"
            ]
        ]
    },
    {
        "id": "51520a20e772f5ff",
        "type": "polygon-tickler-details-rest",
        "z": "522980d06a285aae",
        "conf": "651f0aab10dc1632",
        "symbol": "",
        "x": 1160,
        "y": 360,
        "wires": [
            [
                "93791582f9fcfb64"
            ]
        ]
    },
    {
        "id": "50c8f2f0c10a86e2",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "40c32af6ca02f2f5",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 740,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "bb0d5c3d836e80cf",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "40c32af6ca02f2f5",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 920,
        "y": 700,
        "wires": [
            [
                "9e50eb984a914c9b"
            ]
        ]
    },
    {
        "id": "5ba86b75795c1e9f",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "40c32af6ca02f2f5",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 720,
        "y": 760,
        "wires": [
            [
                "6251aefb5772bebe"
            ]
        ]
    },
    {
        "id": "9ff3d37970cda338",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "rewrite cryptos",
        "func": "let symbol = msg.payload.symbol\n\nif (symbol == 'BTCUSD'){\n    symbol = 'X:BTCUSD'\n}\n\nelse if (symbol == 'ETHUSD') {\n    symbol = 'X:ETHUSD'\n}\n\nmsg.payload.symbol = symbol\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 360,
        "wires": [
            [
                "51520a20e772f5ff"
            ]
        ]
    },
    {
        "id": "22fdcdefa10493a7",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "40c32af6ca02f2f5",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 1440,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "d397c90ab9393845",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "display table contents",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 360,
        "y": 880,
        "wires": [
            [
                "2657c717bbb54626"
            ]
        ]
    },
    {
        "id": "2657c717bbb54626",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "symbol = msg.payload\nsql = \"select * from watchlist\"\nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 880,
        "wires": [
            [
                "ed9704456a4ae110"
            ]
        ]
    },
    {
        "id": "d7f8ab8fef5495b0",
        "type": "debug",
        "z": "522980d06a285aae",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 880,
        "wires": []
    },
    {
        "id": "e31a6e0b6badab64",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "calculate changes",
        "func": "symbol = msg.payload.symbol\nsql = \"update watchlist set change24h =  (price24h - closing), \"\nsql += \"change7d = (closing - price7d) where symbol = '\" +symbol+ \"'\" \n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 1120,
        "wires": [
            [
                "bf9b8920bb42ccab"
            ]
        ]
    },
    {
        "id": "235e5e2cf6d0a0c5",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "calculate pct changes",
        "func": "symbol = msg.payload.symbol\nsql = \"update watchlist set pct24 =  ((change24h / closing)) * 100, \"\nsql += \"pct7d = ((change7d / closing)) * 100 where symbol = '\" +symbol+ \"'\" \n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 1180,
        "wires": [
            [
                "1a0a145a7bd7d049"
            ]
        ]
    },
    {
        "id": "a1654599a123aa8f",
        "type": "delay",
        "z": "522980d06a285aae",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1180,
        "wires": [
            [
                "235e5e2cf6d0a0c5"
            ]
        ]
    },
    {
        "id": "88be52051ece5947",
        "type": "comment",
        "z": "522980d06a285aae",
        "name": "Watchlist",
        "info": "",
        "x": 140,
        "y": 880,
        "wires": []
    },
    {
        "id": "6ed98fc74be6be83",
        "type": "comment",
        "z": "522980d06a285aae",
        "name": "Markets",
        "info": "",
        "x": 140,
        "y": 1260,
        "wires": []
    },
    {
        "id": "897f3a84ecb97249",
        "type": "polygon-last-trade-v3",
        "z": "522980d06a285aae",
        "conf": "651f0aab10dc1632",
        "symbol": "",
        "x": 1000,
        "y": 960,
        "wires": [
            [
                "c0b9973158af9fcc"
            ]
        ]
    },
    {
        "id": "5e12af3dd5a71a68",
        "type": "function-npm",
        "z": "522980d06a285aae",
        "name": "symbol",
        "func": "symbol = msg.payload.symbol\ncnt = 1\n\n/* Setup polygon request arguments */\nmsg.payload = {\n    symbol: symbol,\n    cnt: cnt,\n}\n\nmsg.topic = symbol\n//node.warn(msg.symbol)\n//node.warn(msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 800,
        "y": 960,
        "wires": [
            [
                "897f3a84ecb97249"
            ]
        ]
    },
    {
        "id": "b30829425b4aaed9",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "update closing at 23:00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 23 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 190,
        "y": 960,
        "wires": [
            [
                "2958d675fbaa1c7c"
            ]
        ]
    },
    {
        "id": "2958d675fbaa1c7c",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "symbol = msg.payload\nsql = \"select symbol from watchlist\"\n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 960,
        "wires": [
            [
                "5131b3af2030826e"
            ]
        ]
    },
    {
        "id": "6762b217f11747f3",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 670,
        "y": 960,
        "wires": [
            [
                "5e12af3dd5a71a68"
            ]
        ]
    },
    {
        "id": "c0b9973158af9fcc",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "update query",
        "func": "let price = 0\n\nfor (item of msg.payload.results) {\n    price = item.price;\n}\n\nticker = msg.topic\n//node.warn(ticker)\nsql = \"update watchlist set closing = \" +price+ \" where symbol = '\" +ticker+ \"' \"\n\n\n\nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1190,
        "y": 960,
        "wires": [
            [
                "faf0827b023c18d9"
            ]
        ]
    },
    {
        "id": "92dcdaf21042c779",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "Update 7d Price at 6:00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 190,
        "y": 1020,
        "wires": [
            [
                "5e3209d4ed1f9e4f"
            ]
        ]
    },
    {
        "id": "fbab7d240751dd7b",
        "type": "polygon-trades-min-agg-rest",
        "z": "522980d06a285aae",
        "conf": "651f0aab10dc1632",
        "symbol": "",
        "multiplier": 1,
        "timespan": "minute",
        "from": "",
        "to": "",
        "x": 1040,
        "y": 1020,
        "wires": [
            [
                "c1f184029bfc0bd1"
            ]
        ]
    },
    {
        "id": "5e3209d4ed1f9e4f",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "symbol = msg.payload\nsql = \"select symbol from watchlist\"\nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1020,
        "wires": [
            [
                "16bf98558772ab3a"
            ]
        ]
    },
    {
        "id": "17d993e5586af2bf",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 670,
        "y": 1020,
        "wires": [
            [
                "8729f466ae76b16a"
            ]
        ]
    },
    {
        "id": "cbf150d81460bb97",
        "type": "polygon-last-trade-v3",
        "z": "522980d06a285aae",
        "conf": "651f0aab10dc1632",
        "symbol": "",
        "x": 1140,
        "y": 1080,
        "wires": [
            [
                "75d070cfcfc2b8bd"
            ]
        ]
    },
    {
        "id": "7751ac4b48d41faa",
        "type": "function-npm",
        "z": "522980d06a285aae",
        "name": "SPY",
        "func": "symbol = msg.payload.symbol\ncnt = 1\n\n/* Setup polygon request arguments */\nmsg.payload = {\n    symbol: symbol,\n    cnt: cnt,\n}\n\nmsg.topic = symbol\n//node.warn(msg.symbol)\n//node.warn(msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 1080,
        "wires": [
            [
                "cbf150d81460bb97",
                "e31a6e0b6badab64",
                "a1654599a123aa8f"
            ]
        ]
    },
    {
        "id": "a479b72c478a3a30",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "update price 24h, calculate changes each Minute",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 270,
        "y": 1080,
        "wires": [
            [
                "f90bfb3bd6ea1aad"
            ]
        ]
    },
    {
        "id": "f90bfb3bd6ea1aad",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "symbol = msg.payload\nsql = \"select symbol from watchlist\"\n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 1080,
        "wires": [
            [
                "db13dfa22eb0a2b1"
            ]
        ]
    },
    {
        "id": "63f42c7aeffe2e0b",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 850,
        "y": 1080,
        "wires": [
            [
                "7751ac4b48d41faa"
            ]
        ]
    },
    {
        "id": "75d070cfcfc2b8bd",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "update query",
        "func": "let price = 0\n\nfor (item of msg.payload.results) {\n    price = item.price;\n}\n\nticker = msg.topic\n//node.warn(ticker)\nsql = \"update watchlist set price24h = \" +price+ \" where symbol = '\" +ticker+ \"' \"\n\n\n\n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 1080,
        "wires": [
            [
                "0eb956e431508137"
            ]
        ]
    },
    {
        "id": "8729f466ae76b16a",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "",
        "func": "let symbol = ''\nsymbol = msg.payload.symbol\nnode.warn(\"Symbol: \" +symbol)\n\n\nvar date = new Date();\n\n// this gets the day before yesterday\ndate.setDate(date.getDate() - 7);\n\nconst fromDt = date\n\n// toDt is today\nconst toDt = new Date(); // Today\n\n\n/* Setup polygon request arguments */\nmsg.payload = {\n    from: fromDt.toLocaleDateString('en-CA'),\n    to: toDt.toLocaleDateString('en-CA'),\n    symbol: symbol\n}\n\nmsg.timespan = 'day';\nmsg.topic = symbol\n\nnode.warn(msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 1020,
        "wires": [
            [
                "fbab7d240751dd7b"
            ]
        ]
    },
    {
        "id": "c1f184029bfc0bd1",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "get first value",
        "func": "const account = { name: 'One Minute Bars', data: [] };\n\nfor (const item of msg.payload.results) {\n    const { c, t } = item;\n    const dateEpoch = +(new Date(t));\n\n//    account.data.push([ dateEpoch, +c ]);\n    account.data.push([ c ]);\n\n    \n}\n\nlet price = account.data[0];\n\nprice = price.toString()\nnode.warn(price)\n\n\nticker = msg.topic\n//node.warn(ticker)\nsql = \"update watchlist set price7d = \" +price+ \" where symbol = '\" +ticker+ \"' \"\n\n//node.warn(sql)\nmsg.topic = sql\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 1020,
        "wires": [
            [
                "44be612075750336"
            ]
        ]
    },
    {
        "id": "6b69d7f53bd20b69",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "display table contents",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 340,
        "y": 1260,
        "wires": [
            [
                "20b93bda79ae2d38"
            ]
        ]
    },
    {
        "id": "20b93bda79ae2d38",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "symbol = msg.payload\nsql = \"select * from markets\"\nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 1260,
        "wires": [
            [
                "50a0d74256597c47"
            ]
        ]
    },
    {
        "id": "23c7136e77326495",
        "type": "debug",
        "z": "522980d06a285aae",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 1260,
        "wires": []
    },
    {
        "id": "e3a17b913793bd47",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "calculate changes",
        "func": "symbol = msg.payload.symbol\nsql = \"update markets set change24h =  (price24h - closing), \"\nsql += \"change7d = (closing - price7d) where symbol = '\" +symbol+ \"'\" \n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 1480,
        "wires": [
            [
                "c1d72b6be37c68c7"
            ]
        ]
    },
    {
        "id": "37765a2b5db3b3c3",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "calculate pct changes",
        "func": "symbol = msg.payload.symbol\nsql = \"update markets set pct24 =  ((change24h / closing) * 100), \"\nsql += \"pct7d = ((change7d / closing) * 100) where symbol = '\" +symbol+ \"'\" \n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 1540,
        "wires": [
            [
                "679022ae1957337d"
            ]
        ]
    },
    {
        "id": "85938756c04b89eb",
        "type": "delay",
        "z": "522980d06a285aae",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1120,
        "y": 1540,
        "wires": [
            [
                "37765a2b5db3b3c3"
            ]
        ]
    },
    {
        "id": "532d7c1bf222a9fa",
        "type": "polygon-last-trade-v3",
        "z": "522980d06a285aae",
        "conf": "651f0aab10dc1632",
        "symbol": "",
        "x": 980,
        "y": 1320,
        "wires": [
            [
                "9e246fc8b30d9930"
            ]
        ]
    },
    {
        "id": "63f4595e126bda3e",
        "type": "function-npm",
        "z": "522980d06a285aae",
        "name": "SPY",
        "func": "symbol = msg.payload.symbol\ncnt = 1\n\n/* Setup polygon request arguments */\nmsg.payload = {\n    symbol: symbol,\n    cnt: cnt,\n}\n\nmsg.topic = symbol\n//node.warn(msg.symbol)\n//node.warn(msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 810,
        "y": 1320,
        "wires": [
            [
                "532d7c1bf222a9fa"
            ]
        ]
    },
    {
        "id": "82d9503c89a5907a",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "update closing at 23:00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 23 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 190,
        "y": 1320,
        "wires": [
            [
                "50fce0c5edb5570e"
            ]
        ]
    },
    {
        "id": "50fce0c5edb5570e",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "symbol = msg.payload\nsql = \"select symbol from markets\"\n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 1320,
        "wires": [
            [
                "976c70d6b5c86fae"
            ]
        ]
    },
    {
        "id": "bccfd91c11bf5bca",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 690,
        "y": 1320,
        "wires": [
            [
                "63f4595e126bda3e"
            ]
        ]
    },
    {
        "id": "9e246fc8b30d9930",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "update query",
        "func": "let price = 0\n\nfor (item of msg.payload.results) {\n    price = item.price;\n}\n\nticker = msg.topic\n//node.warn(ticker)\nsql = \"update markets set closing = \" +price+ \" where symbol = '\" +ticker+ \"' \"\n\n\n\nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1170,
        "y": 1320,
        "wires": [
            [
                "ccfddacdb181960e"
            ]
        ]
    },
    {
        "id": "d71b6f8fc75fc4ac",
        "type": "polygon-trades-min-agg-rest",
        "z": "522980d06a285aae",
        "conf": "651f0aab10dc1632",
        "symbol": "",
        "multiplier": 1,
        "timespan": "minute",
        "from": "",
        "to": "",
        "x": 1040,
        "y": 1380,
        "wires": [
            [
                "01e9c5cbb7b8803b"
            ]
        ]
    },
    {
        "id": "03789cbb174ca558",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "symbol = msg.payload\nsql = \"select symbol from markets\"\nnode.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1380,
        "wires": [
            [
                "3b8beccbf06340bb"
            ]
        ]
    },
    {
        "id": "fd6f2f5a79a52fc1",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 670,
        "y": 1380,
        "wires": [
            [
                "f01a26c06b32b5a7"
            ]
        ]
    },
    {
        "id": "ae8039789d34c7df",
        "type": "polygon-last-trade-v3",
        "z": "522980d06a285aae",
        "conf": "651f0aab10dc1632",
        "symbol": "",
        "x": 1120,
        "y": 1440,
        "wires": [
            [
                "c6f7c8aa3e486a02"
            ]
        ]
    },
    {
        "id": "5b46eac9b4c643e2",
        "type": "function-npm",
        "z": "522980d06a285aae",
        "name": "SPY",
        "func": "symbol = msg.payload.symbol\ncnt = 1\n\n/* Setup polygon request arguments */\nmsg.payload = {\n    symbol: symbol,\n    cnt: cnt,\n}\n\nmsg.topic = symbol\n//node.warn(msg.symbol)\n//node.warn(msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 950,
        "y": 1440,
        "wires": [
            [
                "ae8039789d34c7df",
                "e3a17b913793bd47",
                "85938756c04b89eb"
            ]
        ]
    },
    {
        "id": "912442b30fc8ca5b",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "select query",
        "func": "symbol = msg.payload\nsql = \"select symbol from markets\"\n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1440,
        "wires": [
            [
                "8aae7809af982f4a"
            ]
        ]
    },
    {
        "id": "b1faa494a70eaf31",
        "type": "split",
        "z": "522980d06a285aae",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 830,
        "y": 1440,
        "wires": [
            [
                "5b46eac9b4c643e2"
            ]
        ]
    },
    {
        "id": "c6f7c8aa3e486a02",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "update query",
        "func": "let price = 0\n\nfor (item of msg.payload.results) {\n    price = item.price;\n}\n\nticker = msg.topic\n//node.warn(ticker)\nsql = \"update markets set price24h = \" +price+ \" where symbol = '\" +ticker+ \"' \"\n\n\n\n//node.warn(sql)\nmsg.topic = sql\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 1440,
        "wires": [
            [
                "282b625ade4464ef"
            ]
        ]
    },
    {
        "id": "f01a26c06b32b5a7",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "",
        "func": "let symbol = ''\nsymbol = msg.payload.symbol\nnode.warn(\"Symbol: \" +symbol)\n\n\nvar date = new Date();\n\n// this gets the day before yesterday\ndate.setDate(date.getDate() - 7);\n\nconst fromDt = date\n\n// toDt is today\nconst toDt = new Date(); // Today\n\n\n/* Setup polygon request arguments */\nmsg.payload = {\n    from: fromDt.toLocaleDateString('en-CA'),\n    to: toDt.toLocaleDateString('en-CA'),\n    symbol: symbol\n}\n\nmsg.timespan = 'day';\nmsg.topic = symbol\n\nnode.warn(msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 1380,
        "wires": [
            [
                "d71b6f8fc75fc4ac"
            ]
        ]
    },
    {
        "id": "01e9c5cbb7b8803b",
        "type": "function",
        "z": "522980d06a285aae",
        "name": "get first value",
        "func": "const account = { name: 'One Minute Bars', data: [] };\n\nfor (const item of msg.payload.results) {\n    const { c, t } = item;\n    const dateEpoch = +(new Date(t));\n\n//    account.data.push([ dateEpoch, +c ]);\n    account.data.push([ c ]);\n\n    \n}\n\nlet price = account.data[0];\n\nprice = price.toString()\nnode.warn(price)\n\n\nticker = msg.topic\n//node.warn(ticker)\nsql = \"update markets set price7d = \" +price+ \" where symbol = '\" +ticker+ \"' \"\n\n//node.warn(sql)\nmsg.topic = sql\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 1380,
        "wires": [
            [
                "38f62015657bfc07"
            ]
        ]
    },
    {
        "id": "50a0d74256597c47",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 700,
        "y": 1260,
        "wires": [
            [
                "23c7136e77326495"
            ]
        ]
    },
    {
        "id": "976c70d6b5c86fae",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 560,
        "y": 1320,
        "wires": [
            [
                "bccfd91c11bf5bca"
            ]
        ]
    },
    {
        "id": "ccfddacdb181960e",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 1320,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "38f62015657bfc07",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 1420,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "3b8beccbf06340bb",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 540,
        "y": 1380,
        "wires": [
            [
                "fd6f2f5a79a52fc1"
            ]
        ]
    },
    {
        "id": "8aae7809af982f4a",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 700,
        "y": 1440,
        "wires": [
            [
                "b1faa494a70eaf31"
            ]
        ]
    },
    {
        "id": "282b625ade4464ef",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 1460,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "c1d72b6be37c68c7",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 1300,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "679022ae1957337d",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "9c897ceae3d2854f",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "markets",
        "x": 1511.4285888671875,
        "y": 1537.1429443359375,
        "wires": [
            []
        ]
    },
    {
        "id": "ffe7c1a766f43ce2",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "Update 7d Price at 6:00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 190,
        "y": 1380,
        "wires": [
            [
                "03789cbb174ca558"
            ]
        ]
    },
    {
        "id": "568b42ffeda34aad",
        "type": "inject",
        "z": "522980d06a285aae",
        "name": "update price 24h, calculate changes each Minute",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 270,
        "y": 1440,
        "wires": [
            [
                "912442b30fc8ca5b"
            ]
        ]
    },
    {
        "id": "faf0827b023c18d9",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "7b31b45c69655be9",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 1340,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "44be612075750336",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "7b31b45c69655be9",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 1420,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "0eb956e431508137",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "7b31b45c69655be9",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 1480,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "bf9b8920bb42ccab",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "7b31b45c69655be9",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 1320,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "1a0a145a7bd7d049",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "7b31b45c69655be9",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 1520,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "ed9704456a4ae110",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "7b31b45c69655be9",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 715,
        "y": 879.3333129882812,
        "wires": [
            [
                "d7f8ab8fef5495b0"
            ]
        ]
    },
    {
        "id": "5131b3af2030826e",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "7b31b45c69655be9",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 540,
        "y": 960,
        "wires": [
            [
                "6762b217f11747f3"
            ]
        ]
    },
    {
        "id": "16bf98558772ab3a",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "7b31b45c69655be9",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 540,
        "y": 1020,
        "wires": [
            [
                "17d993e5586af2bf"
            ]
        ]
    },
    {
        "id": "db13dfa22eb0a2b1",
        "type": "sqlite",
        "z": "522980d06a285aae",
        "mydb": "7b31b45c69655be9",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "watchlist",
        "x": 720,
        "y": 1080,
        "wires": [
            [
                "63f42c7aeffe2e0b"
            ]
        ]
    },
    {
        "id": "ec068f3c089fa157",
        "type": "comment",
        "z": "522980d06a285aae",
        "name": "Kickstart the update nodes below after making changes to the symbols nodes.",
        "info": "",
        "x": 320,
        "y": 820,
        "wires": []
    },
    {
        "id": "9c897ceae3d2854f",
        "type": "sqlitedb",
        "db": "/data/store/markets",
        "mode": "RWC"
    },
    {
        "id": "40c32af6ca02f2f5",
        "type": "sqlitedb",
        "db": "/data/store/watchlist",
        "mode": "RWC"
    },
    {
        "id": "651f0aab10dc1632",
        "type": "polygon-account",
        "name": "Polygon Key"
    },
    {
        "id": "7b31b45c69655be9",
        "type": "sqlitedb",
        "db": "/data/store/watchlist",
        "mode": "RWC"
    }
]